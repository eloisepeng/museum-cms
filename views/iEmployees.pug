extends layout

block content
  nav.body-container
    h1 Employees (#{count})
      a.right.no-padding(href='/employees/signup') Employee Signup 
        img.icon(src="/img/plus.png" alt="Plus")
    div.container
      div.search-area.right.no-padding
        select.list-select-bar(name="stype" style="width:fit-content;")
          each val in ['username', 'name', 'phone', 'email']
            option(value=val) #{val}
        input#search-input(type="text" name="search" placehold="please enter keyword")
        button.search-btn Search
          img.icon(src="/img/search.png" alt="Search")
      div#employee-list-container
        table
          tr.titles
            th Username
            th Name
            th Phone
            th Email
            th Address
            th Role
            th LastLoggin
            th CreatedAt

          each e in employees
            tr 
              td=`${e.username}  `
                a(href=`/employees/${e.username}`)
                  img.icon(src="/img/edit-blk.png" alt="Edit")     
              td=`${e.firstname} ${e.lastname}`
              td=e.phone
              td=e.email
              td
                if(e.address.num)
                  =`${e.address.num}`
                =`${e.address.street}, ${e.address.city}, ${e.address.province}, ${e.address.country}, ${e.address.zip}`
              td=e.role
              td=moment(e.lastLogin).format('lll')
              td=moment(e.createdAt).format('ll')
